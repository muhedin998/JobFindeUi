{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ALIC/Desktop/New folder (2)/JobFindeUi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { switchMap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class AuthenticateService {\n  constructor(http) {\n    this.http = http;\n    this.BASE_URL = 'http://localhost:8080';\n  }\n\n  authenticateUser(user) {\n    var _this = this;\n\n    this.http.post(this.BASE_URL + '/api/v1/auth/authenticate', user).pipe(switchMap( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (data) {\n        return _this.currentUser$?.next(data.user);\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }())).subscribe(data => console.log(data), err => console.log(err));\n  }\n\n}\n\nAuthenticateService.ɵfac = function AuthenticateService_Factory(t) {\n  return new (t || AuthenticateService)(i0.ɵɵinject(i1.HttpClient));\n};\n\nAuthenticateService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthenticateService,\n  factory: AuthenticateService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAIA,SAAyBA,SAAzB,QAAyC,MAAzC;;;AAMA,OAAM,MAAOC,mBAAP,CAA0B;EAI9BC,YAAoBC,IAApB,EAAoC;IAAhB;IAHpB,gBAAmB,uBAAnB;EAGyC;;EAEzCC,gBAAgB,CAACC,IAAD,EAAmB;IAAA;;IACjC,KAAKF,IAAL,CAAUG,IAAV,CAAkD,KAAKC,QAAL,GAAgB,2BAAlE,EAA+FF,IAA/F,EAAqGG,IAArG,CACIR,SAAS;MAAA,6BAAC,WAAOS,IAAP;QAAA,OAAgB,KAAI,CAACC,YAAL,EAAmBC,IAAnB,CAAwBF,IAAI,CAACJ,IAA7B,CAAhB;MAAA,CAAD;;MAAA;QAAA;MAAA;IAAA,IADb,EAEEO,SAFF,CAGIH,IAAI,IAAII,OAAO,CAACC,GAAR,CAAYL,IAAZ,CAHZ,EAIKM,GAAD,IAASF,OAAO,CAACC,GAAR,CAAYC,GAAZ,CAJb;EAMD;;AAb6B;;;mBAAnBd,qBAAmBe;AAAA;;;SAAnBf;EAAmBgB,SAAnBhB,mBAAmB;EAAAiB,YAFlB","names":["switchMap","AuthenticateService","constructor","http","authenticateUser","user","post","BASE_URL","pipe","data","currentUser$","next","subscribe","console","log","err","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\ALIC\\Desktop\\New folder (2)\\JobFindeUi\\src\\app\\services\\authenticate.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {Authenticate} from \"../models/authenticate.model\";\nimport * as http from \"http\";\nimport {BehaviorSubject, switchMap} from \"rxjs\";\nimport {UserModel} from \"../models/user.model\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticateService {\n  BASE_URL: string = 'http://localhost:8080';\n  currentUser$: BehaviorSubject<UserModel> | null | undefined;\n\n  constructor(private http: HttpClient) { }\n\n  authenticateUser(user: Authenticate) {\n    this.http.post<{ user: UserModel, token: string}>(this.BASE_URL + '/api/v1/auth/authenticate', user).pipe(\n        switchMap(async (data) => this.currentUser$?.next(data.user))\n    ).subscribe(\n        data => console.log(data),\n        (err) => console.log(err)\n    )\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}